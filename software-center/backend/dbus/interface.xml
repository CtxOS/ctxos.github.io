<!DOCTYPE node PUBLIC "-//freedesktop//DTD D-BUS Object Introspection 1.0//EN"
 "http://www.freedesktop.org/standards/dbus/1.0/introspect.dtd">
<node>
  <interface name="org.ctxos.SoftwareCenter">
    <!-- Returns a JSON string of featured apps/profiles -->
    <method name="ListFeatured">
      <arg type="s" name="json_apps" direction="out"/>
    </method>
    
    <!-- Returns a JSON string of all available apps, optionally filtered -->
    <method name="ListAll">
      <arg type="s" name="category" direction="in"/>
      <arg type="s" name="json_apps" direction="out"/>
    </method>
    
    <!-- Returns full details for a specific app -->
    <method name="GetAppDetails">
      <arg type="s" name="app_id" direction="in"/>
      <arg type="s" name="json_details" direction="out"/>
    </method>
    
    <!-- Search for apps -->
    <method name="SearchApps">
      <arg type="s" name="query" direction="in"/>
      <arg type="s" name="json_results" direction="out"/>
    </method>

    <!-- Installation (will be gated by Polkit) -->
    <method name="Install">
      <arg type="s" name="app_id" direction="in"/>
    </method>
    
    <!-- Removal (will be gated by Polkit) -->
    <method name="Remove">
      <arg type="s" name="app_id" direction="in"/>
    </method>

    <!-- Switch Profile (Migration) -->
    <method name="SwitchProfile">
      <arg type="s" name="app_id" direction="in"/>
    </method>
    
    <!-- Update System (will be gated by Polkit) -->
    <method name="Update">
    </method>

    <!-- Signals for progress tracking -->
    <signal name="ProgressChanged">
      <arg type="s" name="app_id"/>
      <arg type="i" name="percent"/>
      <arg type="s" name="message"/>
    </signal>
    
    <signal name="OperationFinished">
      <arg type="s" name="app_id"/>
      <arg type="b" name="success"/>
      <arg type="s" name="error"/>
    </signal>

    <!-- Signal for available updates -->
    <signal name="UpdatesAvailable">
      <arg type="i" name="count"/>
    </signal>
  </interface>
</node>
